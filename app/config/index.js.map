{"version":3,"sources":["../../src/config/index.js"],"names":["debug","cfgs","readdirSync","__dirname","map","indexOf","filename","cfg","require","push","e","config","apply"],"mappings":"2EAAA,wB;AACA,gC;AACA,8B;AACA,oC;;AAEA,IAAMA,QAAQ,qBAAM,QAAN,CAAd;AACA,IAAMC,OAAO,EAAb;;AAEA,aAAGC,WAAH,CAAeC,SAAf,EAA0BC,GAA1B,CAA8B,oBAAY;AACzC,KAAI,CAAC,UAAD,EAAa,YAAb,EAA2BC,OAA3B,CAAmCC,QAAnC,IAA+C,CAAC,CAAhD,IAAqDA,SAAS,CAAT,MAAgB,GAAzE,EAA8E;AAC7E,SAAO,KAAP;AACA;AACD,KAAI;AACH,MAAMC,MAAMC,QAAQ,OAAOF,QAAf,CAAZ;AACA,MAAI,2BAAcC,GAAd,CAAJ,EAAwB;AACvBN,QAAKQ,IAAL,CAAUF,GAAV;AACA;AACD,EALD,CAKE,OAAOG,CAAP,EAAU,CAAE;AACd,CAVD;;AAYAT,KAAKQ,IAAL;;AAEA,IAAME,SAAS,qBAAaC,KAAb,mBAA2BX,IAA3B,CAAf,C,CAAiD;;AAEjDD,MAAMW,MAAN,E;;AAEeA,M","file":"index.js","sourcesContent":["import fs from 'fs';\r\nimport lodash, { isPlainObject, defaultsDeep } from 'lodash';\r\nimport Debug from 'debug';\r\nimport defaultConfig from './default';\r\n\r\nconst debug = Debug('config');\r\nconst cfgs = [];\r\n\r\nfs.readdirSync(__dirname).map(filename => {\r\n\tif (['index.js', 'default.js'].indexOf(filename) > -1 || filename[0] === '.') {\r\n\t\treturn false;\r\n\t}\r\n\ttry {\r\n\t\tconst cfg = require('./' + filename);\r\n\t\tif (isPlainObject(cfg)) {\r\n\t\t\tcfgs.push(cfg);\r\n\t\t}\r\n\t} catch (e) {}\r\n});\r\n\r\ncfgs.push(defaultConfig);\r\n\r\nconst config = defaultsDeep.apply(lodash, cfgs); // ES6: defaultDeep({}, ...cfgs)\r\n\r\ndebug(config);\r\n\r\nexport default config;"]}